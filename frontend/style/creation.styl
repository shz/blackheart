orange = rgb(255, 85, 50)

appearance()
  -webkit-appearance arguments
  -moz-appearance arguments
  -ms-appearance arguments
  -o-appearance arguments
  appearance arguments

transition()
  -webkit-transition arguments
  -moz-transition arguments
  -ms-transition arguments
  -o-transition arguments
  transition: arguments

transform()
  -webkit-transform arguments
  -moz-transform arguments
  -ms-transform arguments
  -o-transform arguments
  transform: arguments

transform-transition(time)
  -webkit-transition -webkit-transform time
  -moz-transition -moz-transform time
  -ms-transition -ms-transform time
  -o-transition -o-transform time
  transition: transform time

backface-visibility()
  -webkit-backface-visibility arguments
  -moz-backface-visibility arguments
  -ms-backface-visibility arguments
  -o-backface-visibility arguments
  backface-visibility: arguments


img
  border none

body > div
  position absolute
  top 0
  left 0
  width 100%
  height 100%
  z-index 1
  box-sizing border-box
  overflow hidden

  &.underway
    z-index 100

// Global styling

.selection-header
  position absolute
  left 0
  top 0
  width 100%
  background-color orange
  background-image url('/frontend/image/logo-black.png')
  background-position 470px 40px
  background-repeat no-repeat
  height 160px

@keyframes flip-hex-rotate-front
  0%
    transform rotateY(0deg)
    z-index 1
  50%
    transform rotateY(180deg)
    z-index 0
  100%
    transform rotateY(360deg)
    z-index 1

@keyframes flip-hex-rotate-back
  0%
    transform rotateY(180deg)
    z-index 0
  50%
    transform rotateY(360deg)
    z-index 1
  100%
    transform rotateY(540deg)
    z-index 0

.flip-hex
  position relative

  .front, .back
    backface-visibility hidden
    transform-transition 0.4s
    width 100%
    height 100%
    position absolute
    top 0
    left 0

  .front
    transform rotateY(0deg)
  .back
    transform rotateY(180deg)

  &.flipped
    .front
      transform rotateY(180deg)
    .back
      transform rotateY(360deg)

  &.animated
    .front
      animation flip-hex-rotate-front 4s ease-in-out infinite
    .back
      animation flip-hex-rotate-back 4s ease-in-out infinite

// Section styling

#initiation
  text-align center
  background-color orange
  background-image url('/frontend/image/openbg.png')
  opacity 0
  transition opacity 0.6s 1s

  &.underway
    transition opacity 0.6s
    opacity 1

  h1, h2, h3
    line-height 1
    margin 0

  h3
    font-size 16px
    color white
    color black
  h1
    font-size 62px
    color white
    margin-top 20px

  .flip-hex
    margin 180px auto 80px auto
    width 523px
    height 600px
    background-image url('/frontend/image/hex-opening-white.png')

    .back, .front
      transform-transition 1.4s

#intrusion
  transition opacity 1s
  background-color white
  text-align center
  opacity 0
  transition opacity 0.6s

  &.underway
    opacity 1
  &.performed
    opacity 1

  > div
    position absolute
    top 0
    left 0
    width 100%
    height 100%

  .first
    width 100%
    height 100%
    position absolute
    top 0
    left 0
    background-color black

    &.hidden
      display none

    .hex
      background-image url('/frontend/image/hex-small-white.png')
      width 243px
      height 279px
      position absolute
      top 400px
      left 263px
      transform-transition 1s
      transform rotate(-90deg) scale(0)
      z-index 1

      &.in
        transform rotate(0) scale(1)
      &.out
        transform-transition 0.8s
        transform rotate(180deg) scale(6)
      &.gone
        display none

    object
      position absolute
      top 492px
      left 282px
      z-index 2
    p
      transition all 0.4s
      opacity 0
      transform translate3d(0, -20px, 0)
      color white
      text-transform uppercase
      font-size 11pt
      z-index 1
      position absolute
      top 700px
      width 100%
      left 0

      &.visible
        opacity 1
        transform translate3d(0, 0, 0)

      &.fade
        opacity 0

  .second
    padding-top 120px
    height 100%
    width 100%
    display none
    z-index 4

    &.visible
      display block

    .hex
      background-image url('/frontend/image/hex-small-black.png')
      width 243px
      height 279px
      position absolute
      top 400px
      left 263px
      transform-transition 1s
      transform rotate(-90deg) scale(0)
      z-index 1

      &.in
        transform rotate(0) scale(1)
      &.out
        transform rotate(90deg) scale(6)
      &.gone
        display none

    .year
      position absolute
      top 547px
      left 290px
      color white
      font-size 80px
      text-align left
      opacity 0
      z-index 2
      line-height 1px

      &.visible
        transition opacity 0.1s
        opacity 1

      &.done
        transition color 0.6s, -webkit-transform 0.6s 1s
        color orange
        // font-size 260px
        transform translateY(-600px)

    .orange-block
      position absolute
      top 0
      left 0
      width 100%
      height 100%
      background-color orange
      opacity 0
      transition opacity 0.6s
      z-index 3

      &.visible
        opacity 1

      &.up
        transition -webkit-transform 0.6s, opacity 0.6s 0.6s
        transform translateY(-864px)
        opacity 0

    .text
      position relative
      z-index 4
      transform translateY(900px)
      transform-transition 0.6s
      opacity 1

      &.visible
        transform none

      &.hidden
        transition opacity 0.6s
        opacity 0

      p
        transition opacity 1s, color 1s
        opacity 0
        color white
        font-size 40px
        line-height 1.1

        &.visible
          opacity 1
        &.orange
          color orange

  .third
    display none
    transition opacity 0.4s
    background-image url('/frontend/image/bg2.png')
    background-image url('/frontend/image/bg2.png'), url('/frontend/image/bg.png')
    width 100%
    height 100%
    background-color white
    z-index 2
    position absolute
    top 0
    left 0

    &.visible
      display block

.selection
  background-image url('/frontend/image/bg.png')
  width 100%
  height 100%
  position absolute
  top 0
  left 0

  h1.name
    position absolute
    top 96px
    left 30px
    margin 0
    line-height 1
    color white
    text-transform none
    transform translateY(-200px)
    transition -webkit-transform 0.4s, opacity 0.2s
    opacity 0
    font-size 60px

    &.visible
      transform none
      opacity 1

  .instructions
    z-index 2
    opacity 1
    position absolute
    top 462px
    width 440px
    left 164px
    pointer-events none
    color orange

    &.visible
      h2
        opacity 1

    &.hidden
      .flip-hex
        .back
          transition color 0.6s
          color white

    h2
      z-index 2
      position relative
      text-align center
      text-transform none
      opacity 0
      transition opacity 0.6s
      font-size 35px

    .flip-hex
      line-height 279px
      font-size 42px
      width 243px
      height 279px
      top -2px
      left 98px
      position absolute
      text-align center
      z-index 1
      text-transform uppercase

      .back, .front
        background-image url('/frontend/image/hex-small-white.png')
        color black

  .counter
    position absolute
    left 50%
    top 460px
    width 120px
    height 140px
    margin-left -60px
    display none
    z-index 4

    &.visible
      display block

    back = -60px
    backstart = -800px
    baserot = -240deg

    &.regular
      div.s1
        transform rotate(0deg + baserot) translateX(back) scale(-1, 1)
      div.s2
        transform rotate(60deg + baserot) translateX(back) scale(-1, 1)
      div.s3
        transform rotate(120deg + baserot) translateX(back) scale(-1, 1)
      div.s4
        transform rotate(180deg + baserot) translateX(back) scale(-1, 1)
      div.s5
        transform rotate(240deg + baserot) translateX(back) scale(-1, 1)
      div.s6
        transform rotate(300deg + baserot) translateX(back) scale(-1, 1)

    div
      width 120px
      height 140px
      background-image url('/frontend/image/timer-segment.png')
      position absolute
      top 70px
      left 0px
      transition all 0.4s
      opacity 1

      &.done
        opacity 0

      &.s1
        transform rotate(0deg + baserot) translateX(backstart) scale(-1, 1)
        opacity 0.8
        &.done
          transform rotate(0deg + baserot) translateX(back) scale(0)
      &.s2
        transform rotate(60deg + baserot) translateX(backstart) scale(-1, 1)
        opacity 0.9
        &.done
          transform rotate(60deg + baserot) translateX(back) scale(0)
      &.s3
        transform rotate(120deg + baserot) translateX(backstart) scale(-1, 1)
        opacity 1
        &.done
          transform rotate(120deg + baserot) translateX(back) scale(0)
      &.s4
        transform rotate(180deg + baserot) translateX(backstart) scale(-1, 1)
        opacity 0.75
        &.done
          transform rotate(180deg + baserot) translateX(back) scale(0)
      &.s5
        transform rotate(240deg + baserot) translateX(backstart) scale(-1, 1)
        opacity 0.6
        &.done
          transform rotate(240deg + baserot) translateX(back) scale(0)
      &.s6
        transform rotate(300deg + baserot) translateX(backstart) scale(-1, 1)
        opacity 0.5
        &.done
          transform rotate(300deg + baserot) translateX(back) scale(0)

  .pieces
    z-index 1

    a
      width 243px
      height 279px
      position absolute
      text-align center

      &:nth-child(1)
        top 242px
        left 136px
      &:nth-child(2)
        top 461px
        left 10px
      &:nth-child(3)
        top 678px
        left 136px
      &:nth-child(4)
        top 679px
        left 390px
      &:nth-child(5)
        top 461px
        left 516px
      &:nth-child(6)
        top 242px
        left 390px

      .back
        background-image url('/frontend/image/hex-small-black.png')
        img
          position absolute
          left 0
          top 0
          z-index 2
        .red
          width 100%
          height 100%
          position absolute
          background-image url('/frontend/image/hex-small-red.png')
          opacity 0
          z-index 1

      &.selected
        .back
          background-image url('/frontend/image/hex-small-white.png')

          .red
            transition opacity 0.4s
            opacity 1

      .front
        background-image url('/frontend/image/hex-small-white.png')

#completion
  background-image url('/frontend/image/bg2.png')
  text-align center

  .selection-header
    border-top 1064px solid orange
    transform translateY(-1064px)

    &.down
      transform none
      transform-transition 0.6s

  object
    position absolute
    top 492px
    left 282px
    z-index 2

  .hex
    background-image url('/frontend/image/hex-small-white.png')
    width 243px
    height 279px
    position absolute
    top 400px
    left 263px
    transform-transition 1s
    transform rotate(-90deg) scale(0)
    z-index 1

    &.in
      transform rotate(0) scale(1)
    &.out
      transform rotate(90deg) scale(6)
    &.gone
      display none

  p
    transition all 0.4s
    opacity 0
    transform translate3d(0, 20px, 0)
    color white
    text-transform uppercase
    font-size 11pt
    z-index 1
    position absolute
    top 700px
    width 100%
    left 0

    &.visible
      opacity 1
      transform translate3d(0, 0, 0)

    &.fade
      opacity 0

#demonstration
  background-color white

  &.orange
    background-color orange

  h1
    text-transform none
    font-size 30px
    transform translateY(40px)
    opacity 0
    text-align center
    position absolute
    top 400px
    left 0
    width 100%

    &.visible
      transform none
      opacity 1
      transition all 0.4s
    &.gone
      transition opacity 0.4s, -webkit-transform 0.4s ease-in
      opacity 0
      transform translateY(-100px)

  .bg
    width 100%
    height 100%
    position absolute
    top 0
    left 0
    opacity 0

    &.visible
      transition opacity 0.6s
      opacity 1

    .header
      position absolute
      top 20px
      left 0
      width 100%

      .vert
        position absolute
        top 0
        right 123px
        width 1px
        height 100px
        background-color black
      .horiz
        position absolute
        top 50px
        left 20px
        width 768px - 20px - 20px - 120px
        height 1px
        background-color black
      .a
        position absolute
        top 33px
        right 140px
        font-size 12px
        text-transform uppercase
      .b
        text-transform uppercase
        position absolute
        top 59px
        right 140px
        font-size 20px
      .c
        position absolute
        right 22px
        top 110px
        text-align center
        font-size 10px
      .d
        width 88px
        height 100px
        position absolute
        right 20px
        top 0
        background-image url('/frontend/image/hex-presentation-small.png')
        background-size 100%
        color white
        text-align center
        line-height 110px
        font-size 36px

    .timing
      > div
        position absolute

        h2
          font-size 16px
          margin 0
          line-height 1
          text-transform none
        h3
          font-size 12px
          margin 0
          line-height 1
      .a
        top 334px
        left 70px
      .b
        top 616px
        left 70px
      .c
        top 734px
        left 340px
      .d
        top 616px
        left 590px
      .e
        top 334px
        left 590px
      .f
        top 230px
        left 340px

    .footer
      position absolute
      top 910px
      left 0
      width 100%

      .logo
        position absolute
        top 20px
        left 20px
        background-image url('/frontend/image/logo-presentation-small.png')
        background-repeat no-repeat
        background-size 160px
        width 160px
        height (160px / 2.22)
        border-right 1px solid black
        padding-right 10px
      .top
        position absolute
        top 0
        left 20px
        width 768px - 20px - 20px
        height 1px
        background-color black
      .big
        position absolute
        top 25px
        left 200px
        text-transform uppercase
        font-size 20px
      .small
        position absolute
        top 55px
        left 200px
        font-size 10px

  svg
    position absolute
    top 180px
    left 445px

    polygon
      transition all 2s
      transform none
    polygon.nekkid0
      transform rotate(90deg) translate3d(300px, 0, 0) scale(0)
    polygon.nekkid1
      transform rotate(90deg) translate3d(0, 300px, 0) scale(0)
    polygon.nekkid2
      transform rotate(90deg) translate3d(-300px, 0, 0) scale(0)
    polygon.nekkid3
      transform rotate(90deg) translate3d(0, -300px, 0) scale(0)

  form
    width 100%
    height 100%
    background-color black
    position absolute
    top 0
    left 0
    transform translateY(1024px)
    transform-transition 0.6s
    z-index 2
    text-align center

    &.visible
      transform none

    h2
      font-size 36px
      color white
      text-transform none
      margin 0
      line-height 1.4

      &.orange
        color orange

      &:first-child
        margin-top 340px

    input[type="email"]
      display block
      margin auto
      width 300px
      text-align center
      padding 16px 14px 12px 14px
      font-size 20px
      font-family 'collator'
      color black
      border none
      outline none
      appearance none
      margin-top 20px
      border-radius 0

    a, input[type="submit"]
      display block
      margin auto
      width 300px
      padding 18px 14px 16px 14px
      color white
      text-decoration none
      transition background 1s
      appearance none
      border none
      font-size 20px
      border-radius 0

      &.submit
        margin-top 16px
        background-color orange
        width 328px
        font-family 'collator'

        &:hover
          background-color darken(orange, 20%)
        &:active
          transition none
          background-color lighten(orange, 20%)
      &.skip
        margin-top 200px
        background-color #AAA
        border 1px solid white
        width 298px
        &:hover
          background-color darken(#AAA, 20%)
        &:active
          transition none
          background-color lighten(#AAA, 20%)

#expulsion
  background-color orange

  .hex
    background-image url('/frontend/image/hex-white.png')
    width 405px
    height 465px
    position absolute
    top 280px
    left 182px
    transform-transition 1s
    transform rotate(-90deg) scale(0)
    z-index 1

    &.in
      transform rotate(0) scale(1)
    &.out
      transform-transition 0.8s 0.4s
      transform rotate(180deg) scale(6)

    p
      position absolute
      top 140px
      left 0
      width 100%
      line-height 1.5
      font-size 30px
      text-align center
      opacity 0

    &.in p
      opacity 1
      transition opacity 0.3s 1s
    &.out p
      opacity 0
      transition opacity 0.3s

@media print {
  #demonstration .bg {
    .footer {
      top 890px
      .logo {
        background-image url('/frontend/image/logo-presentation.png')
      }
    }
    .header {
      top 30px
      .d {
        background-image url('/frontend/image/hex-presentation.png')
      }
    }
  }
}
